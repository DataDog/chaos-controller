# Chaos Controller Installation Guide

**NOTE:** Datadog engineers should consult Chaos Engineering team to deploy chaos-controller to a new cluster.**

Install [cert-manager](https://cert-manager.io/docs/installation/kubernetes/) before going further. It is required for the admission controller to get its own self-signed certificate.

To deploy it on your cluster, run the `make install` command to generate the CRD for the `Disruption` kind.

Apply the needed manifests to create the controller deployment.

You can uninstall it the same way, by using the `make uninstall` command.

### Injector pods extra annotations

The injector pods spec is generated by the controller itself. You can add custom annotations to it by providing the `--injector-annotations` flag to the controller. For instance:

```
--injector-annotations "my-annotation.my-workspace.io/foo=bar" --injector-annotations "my-annotation.my-workspace.io/bar=baz"
```

### Delete-only mode

This flag can be enabled specifically on the controller configuration itself (through the arguments of it's container). Once enabled, the controller in question will reject any incoming requests to create new injections for new disruptions. In this state, the controller will only accept requests to clean/remove disruptions. The controller must be restarted with the corresponding `--delete-only` argument in order to reach this state.